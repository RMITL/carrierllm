{
  "version": 3,
  "sources": ["../bundle-xfJbYy/strip-cf-connecting-ip-header.js", "../../../../../node_modules/.pnpm/itty-router@5.0.22/node_modules/itty-router/index.mjs", "../../../src/index.ts", "../../../../../node_modules/.pnpm/wrangler@3.114.14_@cloudflare+workers-types@4.20250913.0/node_modules/wrangler/templates/middleware/middleware-ensure-req-body-drained.ts", "../../../../../node_modules/.pnpm/wrangler@3.114.14_@cloudflare+workers-types@4.20250913.0/node_modules/wrangler/templates/middleware/middleware-miniflare3-json-error.ts", "../bundle-xfJbYy/middleware-insertion-facade.js", "../../../../../node_modules/.pnpm/wrangler@3.114.14_@cloudflare+workers-types@4.20250913.0/node_modules/wrangler/templates/middleware/common.ts", "../bundle-xfJbYy/middleware-loader.entry.ts"],
  "sourceRoot": "C:\\sites\\carrierllm\\apps\\worker\\.wrangler\\tmp\\dev-bOI7pn",
  "sourcesContent": ["function stripCfConnectingIPHeader(input, init) {\n\tconst request = new Request(input, init);\n\trequest.headers.delete(\"CF-Connecting-IP\");\n\treturn request;\n}\n\nglobalThis.fetch = new Proxy(globalThis.fetch, {\n\tapply(target, thisArg, argArray) {\n\t\treturn Reflect.apply(target, thisArg, [\n\t\t\tstripCfConnectingIPHeader.apply(null, argArray),\n\t\t]);\n\t},\n});\n", "const e=({base:e=\"\",routes:t=[],...r}={})=>({__proto__:new Proxy({},{get:(r,o,a,s)=>(r,...c)=>t.push([o.toUpperCase(),RegExp(`^${(s=(e+r).replace(/\\/+(\\/|$)/g,\"$1\")).replace(/(\\/?\\.?):(\\w+)\\+/g,\"($1(?<$2>*))\").replace(/(\\/?\\.?):(\\w+)/g,\"($1(?<$2>[^$1/]+?))\").replace(/\\./g,\"\\\\.\").replace(/(\\/?)\\*/g,\"($1.*)?\")}/*$`),c,s])&&a}),routes:t,...r,async fetch(e,...r){let o,a,s=new URL(e.url),c=e.query={__proto__:null};for(let[e,t]of s.searchParams)c[e]=c[e]?[].concat(c[e],t):t;for(let[c,n,l,i]of t)if((c==e.method||\"ALL\"==c)&&(a=s.pathname.match(n))){e.params=a.groups||{},e.route=i;for(let t of l)if(null!=(o=await t(e.proxy??e,...r)))return o}}}),t=({base:e=\"\",routes:t=[],...r}={})=>({__proto__:new Proxy({},{get:(r,o,a,s)=>(r,...c)=>t.push([o.toUpperCase?.(),RegExp(`^${(s=(e+r).replace(/\\/+(\\/|$)/g,\"$1\")).replace(/(\\/?\\.?):(\\w+)\\+/g,\"($1(?<$2>*))\").replace(/(\\/?\\.?):(\\w+)/g,\"($1(?<$2>[^$1/]+?))\").replace(/\\./g,\"\\\\.\").replace(/(\\/?)\\*/g,\"($1.*)?\")}/*$`),c,s])&&a}),routes:t,...r,async fetch(e,...o){let a,s,c=new URL(e.url),n=e.query={__proto__:null};for(let[e,t]of c.searchParams)n[e]=n[e]?[].concat(n[e],t):t;e:try{for(let t of r.before||[])if(null!=(a=await t(e.proxy??e,...o)))break e;t:for(let[r,n,l,i]of t)if((r==e.method||\"ALL\"==r)&&(s=c.pathname.match(n))){e.params=s.groups||{},e.route=i;for(let t of l)if(null!=(a=await t(e.proxy??e,...o)))break t}}catch(t){if(!r.catch)throw t;a=await r.catch(t,e.proxy??e,...o)}try{for(let t of r.finally||[])a=await t(a,e.proxy??e,...o)??a}catch(t){if(!r.catch)throw t;a=await r.catch(t,e.proxy??e,...o)}return a}}),r=(e=\"text/plain; charset=utf-8\",t)=>(r,o={})=>{if(void 0===r||r instanceof Response)return r;const a=new Response(t?.(r)??r,o.url?void 0:o);return a.headers.set(\"content-type\",e),a},o=r(\"application/json; charset=utf-8\",JSON.stringify),a=e=>({400:\"Bad Request\",401:\"Unauthorized\",403:\"Forbidden\",404:\"Not Found\",500:\"Internal Server Error\"}[e]||\"Unknown Error\"),s=(e=500,t)=>{if(e instanceof Error){const{message:r,...o}=e;e=e.status||500,t={error:r||a(e),...o}}return t={status:e,...\"object\"==typeof t?t:{error:t||a(e)}},o(t,{status:e})},c=e=>{e.proxy=new Proxy(e.proxy??e,{get:(t,r)=>t[r]?.bind?.(e)??t[r]??t?.params?.[r]})},n=({format:e=o,missing:r=(()=>s(404)),finally:a=[],before:n=[],...l}={})=>t({before:[c,...n],catch:s,finally:[(e,...t)=>e??r(...t),e,...a],...l});class l extends Error{status;constructor(e=500,t){super(\"object\"==typeof t?t.error:t),\"object\"==typeof t&&Object.assign(this,t),this.status=e}}const i=(e,t)=>new Response(null,{...t,status:e}),p=r(\"text/plain; charset=utf-8\",String),f=r(\"text/html\"),u=r(\"image/jpeg\"),h=r(\"image/png\"),g=r(\"image/webp\"),d=async e=>{e.content=e.body?await e.clone().json().catch((()=>e.clone().formData())).catch((()=>e.text())):void 0},w=e=>{e.cookies=(e.headers.get(\"Cookie\")||\"\").split(/;\\s*/).map((e=>e.split(/=(.+)/))).reduce(((e,[t,r])=>r?(e[t]=r,e):e),{})},y=(e={})=>{const{origin:t=\"*\",credentials:r=!1,allowMethods:o=\"*\",allowHeaders:a,exposeHeaders:s,maxAge:c}=e,n=e=>{const o=e?.headers.get(\"origin\");return!0===t?o:t instanceof RegExp?t.test(o)?o:void 0:Array.isArray(t)?t.includes(o)?o:void 0:t instanceof Function?t(o):\"*\"==t&&r?o:t},l=(e,t)=>{for(const[r,o]of Object.entries(t))o&&e.headers.append(r,o);return e};return{corsify:(e,t)=>e?.headers?.get(\"access-control-allow-origin\")||101==e.status?e:l(e.clone(),{\"access-control-allow-origin\":n(t),\"access-control-allow-credentials\":r}),preflight:e=>{if(\"OPTIONS\"==e.method){const t=new Response(null,{status:204});return l(t,{\"access-control-allow-origin\":n(e),\"access-control-allow-methods\":o?.join?.(\",\")??o,\"access-control-expose-headers\":s?.join?.(\",\")??s,\"access-control-allow-headers\":a?.join?.(\",\")??a??e.headers.get(\"access-control-request-headers\"),\"access-control-max-age\":c,\"access-control-allow-credentials\":r})}}}};export{n as AutoRouter,e as IttyRouter,t as Router,l as StatusError,y as cors,r as createResponse,s as error,f as html,u as jpeg,o as json,h as png,i as status,p as text,g as webp,d as withContent,w as withCookies,c as withParams};\n", "import { Router } from 'itty-router';\r\n\r\ninterface Env {\r\n  DB: D1Database;\r\n  DOCS_BUCKET: R2Bucket;\r\n  CARRIER_INDEX: any;\r\n  AI: any;\r\n  RESEND_API_KEY?: string;\r\n  CLERK_WEBHOOK_SECRET?: string;\r\n  CRON_SECRET?: string;\r\n  STRIPE_SECRET_KEY?: string;\r\n}\r\n\r\nconst router = Router();\r\n\r\n// Helper function to add CORS headers\r\nfunction corsHeaders() {\r\n  return {\r\n    'Access-Control-Allow-Origin': '*',\r\n    'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',\r\n    'Access-Control-Allow-Headers': 'Content-Type, Authorization, X-User-Id',\r\n    'Content-Type': 'application/json'\r\n  };\r\n}\r\n\r\n// CORS preflight\r\nrouter.options('*', () => {\r\n  return new Response(null, {\r\n    status: 204,\r\n    headers: corsHeaders()\r\n  });\r\n});\r\n\r\n// Health check\r\nrouter.get('/api/health', () => {\r\n  return Response.json(\r\n    { status: 'healthy', timestamp: new Date().toISOString() },\r\n    { headers: corsHeaders() }\r\n  );\r\n});\r\n\r\n// Analytics endpoint with live data\r\nrouter.get('/api/analytics/summary', async (request, env: Env) => {\r\n  try {\r\n    const userId = request.headers.get('X-User-Id');\r\n\r\n    // Get current month for date filtering\r\n    const now = new Date();\r\n    const currentMonth = now.toISOString().slice(0, 7); // YYYY-MM format\r\n    const monthStart = new Date(now.getFullYear(), now.getMonth(), 1).toISOString();\r\n\r\n    // Initialize response data\r\n    let stats = {\r\n      totalIntakes: 0,\r\n      averageFitScore: 75,\r\n      placementRate: 65,\r\n      remainingRecommendations: 100\r\n    };\r\n\r\n    let topCarriers = [];\r\n    let trends = [];\r\n\r\n    try {\r\n      // Get total intakes - check multiple tables for compatibility\r\n      const intakesResult = await env.DB.prepare(`\r\n        SELECT COUNT(*) as count FROM (\r\n          SELECT id FROM intakes\r\n          UNION ALL\r\n          SELECT id FROM intake_submissions\r\n        )\r\n      `).first();\r\n\r\n      stats.totalIntakes = intakesResult?.count || 0;\r\n\r\n      // If we have a user ID, get user-specific data\r\n      if (userId) {\r\n        // Get user's monthly usage\r\n        try {\r\n          const userUsage = await env.DB.prepare(`\r\n            SELECT COUNT(*) as used\r\n            FROM recommendations\r\n            WHERE user_id = ?\r\n              AND created_at >= ?\r\n          `).bind(userId, monthStart).first();\r\n\r\n          const used = userUsage?.used || 0;\r\n          stats.remainingRecommendations = Math.max(0, 100 - used);\r\n        } catch (e) {\r\n          console.log('Could not get user usage:', e);\r\n        }\r\n\r\n        // Get user's average fit score\r\n        try {\r\n          const avgScore = await env.DB.prepare(`\r\n            SELECT AVG(fit_score) as avg\r\n            FROM recommendations\r\n            WHERE user_id = ?\r\n          `).bind(userId).first();\r\n\r\n          if (avgScore?.avg) {\r\n            stats.averageFitScore = Math.round(avgScore.avg);\r\n          }\r\n        } catch (e) {\r\n          console.log('Could not get average score:', e);\r\n        }\r\n\r\n        // Get top carriers\r\n        try {\r\n          const carriers = await env.DB.prepare(`\r\n            SELECT\r\n              carrier_id,\r\n              carrier_name,\r\n              COUNT(*) as count,\r\n              AVG(fit_score) as avg_score\r\n            FROM recommendations\r\n            WHERE user_id = ?\r\n            GROUP BY carrier_id, carrier_name\r\n            ORDER BY count DESC\r\n            LIMIT 5\r\n          `).bind(userId).all();\r\n\r\n          if (carriers?.results) {\r\n            topCarriers = carriers.results.map((c: any, idx: number) => ({\r\n              id: c.carrier_id || String(idx + 1),\r\n              name: c.carrier_name || `Carrier ${idx + 1}`,\r\n              count: c.count || 0,\r\n              successRate: Math.round(c.avg_score || 75)\r\n            }));\r\n          }\r\n        } catch (e) {\r\n          console.log('Could not get top carriers:', e);\r\n        }\r\n\r\n        // Get monthly trends (last 6 months)\r\n        try {\r\n          const sixMonthsAgo = new Date();\r\n          sixMonthsAgo.setMonth(sixMonthsAgo.getMonth() - 6);\r\n\r\n          const monthlyData = await env.DB.prepare(`\r\n            SELECT\r\n              strftime('%Y-%m', created_at) as month,\r\n              COUNT(*) as count\r\n            FROM recommendations\r\n            WHERE user_id = ?\r\n              AND created_at >= ?\r\n            GROUP BY strftime('%Y-%m', created_at)\r\n            ORDER BY month DESC\r\n            LIMIT 6\r\n          `).bind(userId, sixMonthsAgo.toISOString()).all();\r\n\r\n          if (monthlyData?.results) {\r\n            trends = monthlyData.results.map((m: any) => ({\r\n              month: m.month,\r\n              intakes: m.count || 0,\r\n              conversions: Math.round((m.count || 0) * 0.72), // Estimated conversion\r\n              conversionRate: 72\r\n            }));\r\n          }\r\n        } catch (e) {\r\n          console.log('Could not get trends:', e);\r\n        }\r\n      }\r\n\r\n      // Calculate placement rate\r\n      try {\r\n        const placements = await env.DB.prepare(`\r\n          SELECT\r\n            COUNT(CASE WHEN status = 'approved' OR status = 'placed' THEN 1 END) as placed,\r\n            COUNT(*) as total\r\n          FROM outcomes\r\n        `).first();\r\n\r\n        if (placements?.total > 0) {\r\n          stats.placementRate = Math.round((placements.placed / placements.total) * 100);\r\n        }\r\n      } catch (e) {\r\n        console.log('Could not get placement rate:', e);\r\n      }\r\n\r\n    } catch (dbError) {\r\n      console.error('Database query error:', dbError);\r\n      // Continue with default values if DB queries fail\r\n    }\r\n\r\n    // If no real data, provide demo data for better UX\r\n    if (topCarriers.length === 0) {\r\n      topCarriers = [\r\n        { id: '1', name: 'Progressive', count: 15, successRate: 89 },\r\n        { id: '2', name: 'State Farm', count: 12, successRate: 85 },\r\n        { id: '3', name: 'Allstate', count: 10, successRate: 78 }\r\n      ];\r\n    }\r\n\r\n    if (trends.length === 0) {\r\n      trends = [\r\n        { month: '2025-01', intakes: 12, conversions: 9, conversionRate: 75 },\r\n        { month: '2024-12', intakes: 18, conversions: 13, conversionRate: 72 },\r\n        { month: '2024-11', intakes: 15, conversions: 10, conversionRate: 67 }\r\n      ];\r\n    }\r\n\r\n    return Response.json({\r\n      stats,\r\n      topCarriers,\r\n      trends,\r\n      lastUpdated: new Date().toISOString()\r\n    }, {\r\n      headers: corsHeaders()\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Analytics endpoint error:', error);\r\n\r\n    // Return safe defaults on error\r\n    return Response.json({\r\n      stats: {\r\n        totalIntakes: 0,\r\n        averageFitScore: 75,\r\n        placementRate: 65,\r\n        remainingRecommendations: 100\r\n      },\r\n      topCarriers: [],\r\n      trends: [],\r\n      lastUpdated: new Date().toISOString(),\r\n      error: 'Analytics data temporarily unavailable'\r\n    }, {\r\n      status: 200, // Return 200 to prevent app crashes\r\n      headers: corsHeaders()\r\n    });\r\n  }\r\n});\r\n\r\n// Intake submission endpoint\r\nrouter.post('/api/intake/submit', async (request, env: Env) => {\r\n  try {\r\n    const intake = await request.json();\r\n    const intakeId = crypto.randomUUID();\r\n    const recommendationId = crypto.randomUUID();\r\n\r\n    // Log intake to database\r\n    const userId = request.headers.get('X-User-Id') || 'anonymous';\r\n    try {\r\n      await env.DB.prepare(`\r\n        INSERT INTO intakes (id, data, user_id, created_at)\r\n        VALUES (?, ?, ?, ?)\r\n      `).bind(intakeId, JSON.stringify(intake), userId, new Date().toISOString()).run();\r\n    } catch (e) {\r\n      console.log('Could not log intake:', e);\r\n    }\r\n\r\n    // Generate mock recommendations for now\r\n    const recommendations = [\r\n      {\r\n        carrierId: 'progressive',\r\n        carrierName: 'Progressive',\r\n        fitScore: 92,\r\n        highlights: ['Competitive rates', 'Strong financial stability', 'Good customer service'],\r\n        concerns: [],\r\n        premiumRange: { min: 1200, max: 1800 },\r\n        citations: []\r\n      },\r\n      {\r\n        carrierId: 'statefarm',\r\n        carrierName: 'State Farm',\r\n        fitScore: 88,\r\n        highlights: ['Local agent support', 'Multi-policy discounts'],\r\n        concerns: ['Premium may be higher'],\r\n        premiumRange: { min: 1400, max: 2000 },\r\n        citations: []\r\n      },\r\n      {\r\n        carrierId: 'allstate',\r\n        carrierName: 'Allstate',\r\n        fitScore: 85,\r\n        highlights: ['Accident forgiveness', 'Safe driving bonuses'],\r\n        concerns: [],\r\n        premiumRange: { min: 1300, max: 1900 },\r\n        citations: []\r\n      }\r\n    ];\r\n\r\n    // Store recommendations\r\n    for (const rec of recommendations) {\r\n      try {\r\n        await env.DB.prepare(`\r\n          INSERT INTO recommendations (\r\n            id, recommendation_id, user_id, carrier_id, carrier_name,\r\n            fit_score, created_at\r\n          ) VALUES (?, ?, ?, ?, ?, ?, ?)\r\n        `).bind(\r\n          crypto.randomUUID(),\r\n          recommendationId,\r\n          userId,\r\n          rec.carrierId,\r\n          rec.carrierName,\r\n          rec.fitScore,\r\n          new Date().toISOString()\r\n        ).run();\r\n      } catch (e) {\r\n        console.log('Could not store recommendation:', e);\r\n      }\r\n    }\r\n\r\n    return Response.json({\r\n      intakeId,\r\n      recommendationId,\r\n      summary: {\r\n        averageFit: 88,\r\n        eligibleCarriers: recommendations.length,\r\n        processingTime: 1250\r\n      },\r\n      recommendations\r\n    }, {\r\n      headers: corsHeaders()\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('Intake submission error:', error);\r\n    return Response.json(\r\n      { error: 'Failed to process intake' },\r\n      { status: 500, headers: corsHeaders() }\r\n    );\r\n  }\r\n});\r\n\r\n// Get user history\r\nrouter.get('/api/user/:userId/history', async (request, env: Env) => {\r\n  const { userId } = request.params;\r\n\r\n  try {\r\n    const history = [];\r\n\r\n    // Get user's intakes\r\n    try {\r\n      const intakes = await env.DB.prepare(`\r\n        SELECT id, data, created_at\r\n        FROM intakes\r\n        WHERE user_id = ?\r\n        ORDER BY created_at DESC\r\n        LIMIT 50\r\n      `).bind(userId).all();\r\n\r\n      if (intakes?.results) {\r\n        for (const intake of intakes.results) {\r\n          history.push({\r\n            id: intake.id,\r\n            type: 'intake',\r\n            data: JSON.parse(intake.data || '{}'),\r\n            createdAt: intake.created_at,\r\n            status: 'completed'\r\n          });\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.log('Could not get intakes:', e);\r\n    }\r\n\r\n    // Get user's recommendations (group by recommendation_id to avoid duplicates)\r\n    try {\r\n      const recommendations = await env.DB.prepare(`\r\n        SELECT\r\n          recommendation_id,\r\n          user_id,\r\n          carrier_id,\r\n          carrier_name,\r\n          fit_score,\r\n          created_at,\r\n          COUNT(*) as carrier_count,\r\n          AVG(fit_score) as avg_fit\r\n        FROM recommendations\r\n        WHERE user_id = ? AND recommendation_id IS NOT NULL\r\n        GROUP BY recommendation_id\r\n        ORDER BY created_at DESC\r\n        LIMIT 50\r\n      `).bind(userId).all();\r\n\r\n      if (recommendations?.results) {\r\n        for (const rec of recommendations.results) {\r\n          history.push({\r\n            id: rec.recommendation_id,\r\n            recommendationId: rec.recommendation_id,\r\n            type: 'recommendation',\r\n            data: {},\r\n            createdAt: rec.created_at,\r\n            status: 'completed',\r\n            summary: {\r\n              averageFit: Math.round(rec.avg_fit || 0),\r\n              eligibleCarriers: rec.carrier_count || 0,\r\n              topCarrierId: rec.carrier_id\r\n            }\r\n          });\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.log('Could not get recommendations:', e);\r\n    }\r\n\r\n    // Sort by creation date\r\n    history.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\r\n\r\n    return Response.json(history, {\r\n      headers: corsHeaders()\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error('History endpoint error:', error);\r\n    return Response.json(\r\n      { error: 'Failed to fetch history' },\r\n      { status: 500, headers: corsHeaders() }\r\n    );\r\n  }\r\n});\r\n\r\n// Get recommendation by ID\r\nrouter.get('/api/recommendations/:id', async (request, env: Env) => {\r\n  const { id } = request.params;\r\n\r\n  try {\r\n    // Try to get real recommendations from DB\r\n    const recs = await env.DB.prepare(`\r\n      SELECT * FROM recommendations\r\n      WHERE recommendation_id = ?\r\n    `).bind(id).all();\r\n\r\n    if (recs?.results && recs.results.length > 0) {\r\n      const recommendations = recs.results.map((r: any) => ({\r\n        carrierId: r.carrier_id,\r\n        carrierName: r.carrier_name,\r\n        fitScore: r.fit_score,\r\n        highlights: ['Based on your profile'],\r\n        concerns: [],\r\n        premiumRange: { min: 1200, max: 1800 },\r\n        citations: []\r\n      }));\r\n\r\n      return Response.json({\r\n        recommendationId: id,\r\n        summary: {\r\n          averageFit: 85,\r\n          eligibleCarriers: recommendations.length,\r\n          processingTime: 1250\r\n        },\r\n        recommendations\r\n      }, {\r\n        headers: corsHeaders()\r\n      });\r\n    }\r\n  } catch (e) {\r\n    console.log('Could not get recommendations:', e);\r\n  }\r\n\r\n  // Return mock data if no real data\r\n  return Response.json({\r\n    recommendationId: id,\r\n    summary: {\r\n      averageFit: 85,\r\n      eligibleCarriers: 2,\r\n      processingTime: 1250\r\n    },\r\n    recommendations: [\r\n      {\r\n        carrierId: 'progressive',\r\n        carrierName: 'Progressive',\r\n        fitScore: 92,\r\n        highlights: ['Best match for profile'],\r\n        concerns: [],\r\n        premiumRange: { min: 1200, max: 1800 },\r\n        citations: []\r\n      }\r\n    ]\r\n  }, {\r\n    headers: corsHeaders()\r\n  });\r\n});\r\n\r\n// NOTE: All billing is handled by Clerk Billing\r\n// Clerk automatically handles:\r\n// - Stripe integration and webhook processing\r\n// - Subscription status syncing to user/org metadata\r\n// - Payment processing and invoicing\r\n//\r\n// To configure billing:\r\n// 1. Go to Clerk Dashboard > Billing Settings\r\n// 2. Create subscription plans\r\n// 3. Use <PricingTable /> component in your React app\r\n// 4. Check access with has({ plan: 'plan_name' }) or <Protect> component\r\n\r\n// Clerk webhook endpoint\r\nrouter.post('/webhook', async (request, env: Env) => {\r\n  // Simple webhook handler that just acknowledges receipt\r\n  return Response.json(\r\n    { received: true },\r\n    { status: 200, headers: corsHeaders() }\r\n  );\r\n});\r\n\r\n// Default 404 handler\r\nrouter.all('*', () => {\r\n  return Response.json(\r\n    { message: 'Not found' },\r\n    { status: 404, headers: corsHeaders() }\r\n  );\r\n});\r\n\r\n// Export worker\r\nexport default {\r\n  async fetch(request: Request, env: Env, ctx: ExecutionContext): Promise<Response> {\r\n    try {\r\n      return await router.handle(request, env, ctx);\r\n    } catch (error) {\r\n      console.error('Worker error:', error);\r\n      return Response.json(\r\n        { error: 'Internal server error' },\r\n        { status: 500, headers: corsHeaders() }\r\n      );\r\n    }\r\n  }\r\n};", "import type { Middleware } from \"./common\";\n\nconst drainBody: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} finally {\n\t\ttry {\n\t\t\tif (request.body !== null && !request.bodyUsed) {\n\t\t\t\tconst reader = request.body.getReader();\n\t\t\t\twhile (!(await reader.read()).done) {}\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole.error(\"Failed to drain the unused request body.\", e);\n\t\t}\n\t}\n};\n\nexport default drainBody;\n", "import type { Middleware } from \"./common\";\n\ninterface JsonError {\n\tmessage?: string;\n\tname?: string;\n\tstack?: string;\n\tcause?: JsonError;\n}\n\nfunction reduceError(e: any): JsonError {\n\treturn {\n\t\tname: e?.name,\n\t\tmessage: e?.message ?? String(e),\n\t\tstack: e?.stack,\n\t\tcause: e?.cause === undefined ? undefined : reduceError(e.cause),\n\t};\n}\n\n// See comment in `bundle.ts` for details on why this is needed\nconst jsonError: Middleware = async (request, env, _ctx, middlewareCtx) => {\n\ttry {\n\t\treturn await middlewareCtx.next(request, env);\n\t} catch (e: any) {\n\t\tconst error = reduceError(e);\n\t\treturn Response.json(error, {\n\t\t\tstatus: 500,\n\t\t\theaders: { \"MF-Experimental-Error-Stack\": \"true\" },\n\t\t});\n\t}\n};\n\nexport default jsonError;\n", "\t\t\t\timport worker, * as OTHER_EXPORTS from \"C:\\\\sites\\\\carrierllm\\\\apps\\\\worker\\\\src\\\\index.ts\";\n\t\t\t\timport * as __MIDDLEWARE_0__ from \"C:\\\\sites\\\\carrierllm\\\\node_modules\\\\.pnpm\\\\wrangler@3.114.14_@cloudflare+workers-types@4.20250913.0\\\\node_modules\\\\wrangler\\\\templates\\\\middleware\\\\middleware-ensure-req-body-drained.ts\";\nimport * as __MIDDLEWARE_1__ from \"C:\\\\sites\\\\carrierllm\\\\node_modules\\\\.pnpm\\\\wrangler@3.114.14_@cloudflare+workers-types@4.20250913.0\\\\node_modules\\\\wrangler\\\\templates\\\\middleware\\\\middleware-miniflare3-json-error.ts\";\n\n\t\t\t\texport * from \"C:\\\\sites\\\\carrierllm\\\\apps\\\\worker\\\\src\\\\index.ts\";\n\n\t\t\t\texport const __INTERNAL_WRANGLER_MIDDLEWARE__ = [\n\t\t\t\t\t\n\t\t\t\t\t__MIDDLEWARE_0__.default,__MIDDLEWARE_1__.default\n\t\t\t\t]\n\t\t\t\texport default worker;", "export type Awaitable<T> = T | Promise<T>;\n// TODO: allow dispatching more events?\nexport type Dispatcher = (\n\ttype: \"scheduled\",\n\tinit: { cron?: string }\n) => Awaitable<void>;\n\nexport type IncomingRequest = Request<\n\tunknown,\n\tIncomingRequestCfProperties<unknown>\n>;\n\nexport interface MiddlewareContext {\n\tdispatch: Dispatcher;\n\tnext(request: IncomingRequest, env: any): Awaitable<Response>;\n}\n\nexport type Middleware = (\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tmiddlewareCtx: MiddlewareContext\n) => Awaitable<Response>;\n\nconst __facade_middleware__: Middleware[] = [];\n\n// The register functions allow for the insertion of one or many middleware,\n// We register internal middleware first in the stack, but have no way of controlling\n// the order that addMiddleware is run in service workers so need an internal function.\nexport function __facade_register__(...args: (Middleware | Middleware[])[]) {\n\t__facade_middleware__.push(...args.flat());\n}\nexport function __facade_registerInternal__(\n\t...args: (Middleware | Middleware[])[]\n) {\n\t__facade_middleware__.unshift(...args.flat());\n}\n\nfunction __facade_invokeChain__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tmiddlewareChain: Middleware[]\n): Awaitable<Response> {\n\tconst [head, ...tail] = middlewareChain;\n\tconst middlewareCtx: MiddlewareContext = {\n\t\tdispatch,\n\t\tnext(newRequest, newEnv) {\n\t\t\treturn __facade_invokeChain__(newRequest, newEnv, ctx, dispatch, tail);\n\t\t},\n\t};\n\treturn head(request, env, ctx, middlewareCtx);\n}\n\nexport function __facade_invoke__(\n\trequest: IncomingRequest,\n\tenv: any,\n\tctx: ExecutionContext,\n\tdispatch: Dispatcher,\n\tfinalMiddleware: Middleware\n): Awaitable<Response> {\n\treturn __facade_invokeChain__(request, env, ctx, dispatch, [\n\t\t...__facade_middleware__,\n\t\tfinalMiddleware,\n\t]);\n}\n", "// This loads all middlewares exposed on the middleware object and then starts\n// the invocation chain. The big idea is that we can add these to the middleware\n// export dynamically through wrangler, or we can potentially let users directly\n// add them as a sort of \"plugin\" system.\n\nimport ENTRY, { __INTERNAL_WRANGLER_MIDDLEWARE__ } from \"C:\\\\sites\\\\carrierllm\\\\apps\\\\worker\\\\.wrangler\\\\tmp\\\\bundle-xfJbYy\\\\middleware-insertion-facade.js\";\nimport { __facade_invoke__, __facade_register__, Dispatcher } from \"C:\\\\sites\\\\carrierllm\\\\node_modules\\\\.pnpm\\\\wrangler@3.114.14_@cloudflare+workers-types@4.20250913.0\\\\node_modules\\\\wrangler\\\\templates\\\\middleware\\\\common.ts\";\nimport type { WorkerEntrypointConstructor } from \"C:\\\\sites\\\\carrierllm\\\\apps\\\\worker\\\\.wrangler\\\\tmp\\\\bundle-xfJbYy\\\\middleware-insertion-facade.js\";\n\n// Preserve all the exports from the worker\nexport * from \"C:\\\\sites\\\\carrierllm\\\\apps\\\\worker\\\\.wrangler\\\\tmp\\\\bundle-xfJbYy\\\\middleware-insertion-facade.js\";\n\nclass __Facade_ScheduledController__ implements ScheduledController {\n\treadonly #noRetry: ScheduledController[\"noRetry\"];\n\n\tconstructor(\n\t\treadonly scheduledTime: number,\n\t\treadonly cron: string,\n\t\tnoRetry: ScheduledController[\"noRetry\"]\n\t) {\n\t\tthis.#noRetry = noRetry;\n\t}\n\n\tnoRetry() {\n\t\tif (!(this instanceof __Facade_ScheduledController__)) {\n\t\t\tthrow new TypeError(\"Illegal invocation\");\n\t\t}\n\t\t// Need to call native method immediately in case uncaught error thrown\n\t\tthis.#noRetry();\n\t}\n}\n\nfunction wrapExportedHandler(worker: ExportedHandler): ExportedHandler {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn worker;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\tconst fetchDispatcher: ExportedHandlerFetchHandler = function (\n\t\trequest,\n\t\tenv,\n\t\tctx\n\t) {\n\t\tif (worker.fetch === undefined) {\n\t\t\tthrow new Error(\"Handler does not export a fetch() function.\");\n\t\t}\n\t\treturn worker.fetch(request, env, ctx);\n\t};\n\n\treturn {\n\t\t...worker,\n\t\tfetch(request, env, ctx) {\n\t\t\tconst dispatcher: Dispatcher = function (type, init) {\n\t\t\t\tif (type === \"scheduled\" && worker.scheduled !== undefined) {\n\t\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\t\tDate.now(),\n\t\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t\t() => {}\n\t\t\t\t\t);\n\t\t\t\t\treturn worker.scheduled(controller, env, ctx);\n\t\t\t\t}\n\t\t\t};\n\t\t\treturn __facade_invoke__(request, env, ctx, dispatcher, fetchDispatcher);\n\t\t},\n\t};\n}\n\nfunction wrapWorkerEntrypoint(\n\tklass: WorkerEntrypointConstructor\n): WorkerEntrypointConstructor {\n\t// If we don't have any middleware defined, just return the handler as is\n\tif (\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__ === undefined ||\n\t\t__INTERNAL_WRANGLER_MIDDLEWARE__.length === 0\n\t) {\n\t\treturn klass;\n\t}\n\t// Otherwise, register all middleware once\n\tfor (const middleware of __INTERNAL_WRANGLER_MIDDLEWARE__) {\n\t\t__facade_register__(middleware);\n\t}\n\n\t// `extend`ing `klass` here so other RPC methods remain callable\n\treturn class extends klass {\n\t\t#fetchDispatcher: ExportedHandlerFetchHandler<Record<string, unknown>> = (\n\t\t\trequest,\n\t\t\tenv,\n\t\t\tctx\n\t\t) => {\n\t\t\tthis.env = env;\n\t\t\tthis.ctx = ctx;\n\t\t\tif (super.fetch === undefined) {\n\t\t\t\tthrow new Error(\"Entrypoint class does not define a fetch() function.\");\n\t\t\t}\n\t\t\treturn super.fetch(request);\n\t\t};\n\n\t\t#dispatcher: Dispatcher = (type, init) => {\n\t\t\tif (type === \"scheduled\" && super.scheduled !== undefined) {\n\t\t\t\tconst controller = new __Facade_ScheduledController__(\n\t\t\t\t\tDate.now(),\n\t\t\t\t\tinit.cron ?? \"\",\n\t\t\t\t\t() => {}\n\t\t\t\t);\n\t\t\t\treturn super.scheduled(controller);\n\t\t\t}\n\t\t};\n\n\t\tfetch(request: Request<unknown, IncomingRequestCfProperties>) {\n\t\t\treturn __facade_invoke__(\n\t\t\t\trequest,\n\t\t\t\tthis.env,\n\t\t\t\tthis.ctx,\n\t\t\t\tthis.#dispatcher,\n\t\t\t\tthis.#fetchDispatcher\n\t\t\t);\n\t\t}\n\t};\n}\n\nlet WRAPPED_ENTRY: ExportedHandler | WorkerEntrypointConstructor | undefined;\nif (typeof ENTRY === \"object\") {\n\tWRAPPED_ENTRY = wrapExportedHandler(ENTRY);\n} else if (typeof ENTRY === \"function\") {\n\tWRAPPED_ENTRY = wrapWorkerEntrypoint(ENTRY);\n}\nexport default WRAPPED_ENTRY;\n"],
  "mappings": "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",
  "names": ["t", "r", "o", "e", "n", "r"]
}
